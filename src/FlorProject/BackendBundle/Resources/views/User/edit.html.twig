{% extends 'FlorProjectBackendBundle:Util:form.html.twig' %}

{% set page_title="Editar Usuario" %}
{% set title_small="edición de informacion de usuario" %}

{% block breadcrumb %}
    <li>
        <i class="fa fa-home"></i>
        <a href="{{ path('backend_dashboard') }}">Inicio</a>
        <i class="fa fa-angle-right"></i>
    </li>
    <li>
        <a href="{{ path('backend_user_list') }}">Usuarios</a>
        <i class="fa fa-angle-right"></i>
    </li>
    <li>
        <a href="#">Editar Usuario</a>
    </li>
{% endblock %}

{% block page_level_plugins_styles %}
    <link rel="stylesheet" type="text/css" href="{{  asset('bundles/nivalmetronictemplate/assets/global/plugins/select2/select2.css') }}"/>
{% endblock %}

{% block page_level_plugin_scripts %}
    <script type="text/javascript" src="{{  asset('bundles/nivalmetronictemplate/assets/global/plugins/select2/select2.min.js') }}"></script>
{% endblock %}

{% block page_level_script %}
    <script src="{{  asset('bundles/nivalmetronictemplate/assets/global/scripts/metronic.js') }}" type="text/javascript"></script>
    <script src="{{  asset('bundles/nivalmetronictemplate/assets/admin/layout/scripts/layout.js') }}" type="text/javascript"></script>
    <script>
        jQuery(document).ready(function() {
            //Metronic.init(); // init metronic core components
            Layout.init(); // init current layout
        });
    </script>
{% endblock %}

{% block form_header %}
    <div class="caption">
        <i class="icon-user font-red-sunglo"></i>
        <span class="caption-subject font-red-sunglo bold uppercase">Editar Usuario</span>
        <span class="caption-helper">edición de datos de usuario</span>
    </div>
{% endblock %}

{% block form_body %}
    {% if form is defined %}
        <form action="{{ path('backend_user_update') }}" {{ form_enctype(form) }} method="POST" class="form-horizontal">
            <div class="form-body">
                {{ form_errors(form) }}
                <input type="hidden" value="{{ user.id }}" name="user_id" />

                <div class="form-group">
                    <label class="col-md-3 control-label">Nombre</label>
                    <div class="col-md-4">
                        {{ form_row(form.firstName) }}
                        <span class="help-block">
														{{ form_errors(form.firstName) }} </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label">Apellido</label>
                    <div class="col-md-4">
                        {{ form_row(form.lastName) }}
                        <span class="help-block">
														{{ form_errors(form.lastName) }} </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label">E-Mail</label>
                    <div class="col-md-4">
                        {{ form_widget(form.email, { 'attr': {'placeholder': 'Email', 'class': 'form-control'} }) }}
                        <span class="help-block">
														{{ form_errors(form.email) }} </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label">Usuario</label>
                    <div class="col-md-4">
                        {{ form_widget(form.username, { 'attr': {'placeholder': 'Nombre de Usuario', 'class': 'form-control', 'readonly': 'readonly'} }) }}
                        <span class="help-block">
														{{ form_errors(form.username) }} </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label">Contraseña</label>
                    <div class="col-md-4">
                        {{ form_widget(form.plainPassword.first, { 'attr': {'placeholder': 'Entre su contraseña', 'class': 'form-control'} }) }}
                        <span class="help-block">
														{{ form_errors(form.plainPassword.first) }} </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label">Repetir Contraseña</label>
                    <div class="col-md-4">
                        {{ form_widget(form.plainPassword.second, { 'attr': {'placeholder': 'Repetir contraseña', 'class': 'form-control'} }) }}
                        <span class="help-block">
														{{ form_errors(form.plainPassword.second) }} </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label">Rol</label>
                    <div class="col-md-4">
                        <select name="role_user" class="form-control">
                            <option value="ROLE_ADMIN">Administrador</option>
                            <option value="ROLE_TRANSLATOR">Traductor</option>
                        </select>
                        <span class="help-block">
														Seleccione el Rol del usuario </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label">País</label>
                    <div class="col-md-4">
                        {{ form_row(form.country) }}
                        <span class="help-block">
														{{ form_errors(form.country) }} </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label">Imagen</label>
                    <div class="col-md-4">
                        {{ form_row(form.file) }}
                        <span class="help-block">
														{{ form_errors(form.file) }} </span>
                    </div>
                </div>

                {{ form_rest(form) }}
            </div>
            <div class="form-actions">
                <div class="row">
                    <div class="col-md-offset-3 col-md-4">
                        <button type="submit" class="btn green">Aceptar</button>
                        <a href="{{ path('backend_user_list') }}" class="btn default">Cancel</a>
                    </div>
                </div>
            </div>
        </form>
    {% endif %}
{% endblock %}

